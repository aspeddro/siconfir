---
title: "siconfir"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

[README ðŸ‡§ðŸ‡·](README_pt-br.md)

R library to access data from the Brazilian Public Sector Accounting and Tax Information System (SICONFI/[National Treasure](https://www.gov.br/tesouronacional/en?set_language=en))

This package is available for [**Python**](https://github.com/pedrocastroo/siconfipy)

## Installation

```{r eval = F}
# install.packages("devtools")
devtools::install_github("pedrocastroo/siconfir")
remotes::install_github("pedrocastroo/siconfir") # using remotes package
```

## Using

- [get_fiscal()](#get_fiscal): Fiscal Management Report
- [get_budget()](#get_budget): Budget Execution Summary Report
- [get_annual_acc()](#get_annual_acc): Annual Statement of Accounts
- [msc_budget()](#msc_budget): Budget accounts, Accounting Balances Matrix
- [msc_control()](#msc_control): Control accounts, Accounting Balances Matrix
- [msc_equity()](#msc_equity): Equity accounts, Accounting Balances Matrix
- [report_status()](#report_status): Report Status
- [get_annex()](#get_annex): Attachments of reports by Sphere of Government
- [get_info()](#get_info): Basic information of the federation entities
- [find_cod()](#find_cod): Find state or municipality information

Datasets:

- [`br_cods`](#br_cods)

## Examples

```{r}
library(siconfir)
```

### get_fiscal(){#get_fiscal}

Fiscal management report for the state of Sao Paulo (`35`) for the first two months of 2020:

```{r}
siconfir::get_fiscal(year = 2020, period = 1, cod = 35)
```

> `cod` is an id assigned to each city and state. See `find_cod()`, `get_info()` or `br_cods`

### get_budget(){#get_budget}

Summary of the budget execution report for the state of Rio de Janeiro (`33`) of 2018 for the first two months:

```{r}
siconfir::get_budget(year = 2018, period = 1, cod = 33)
```

### get_annual_acc(){#get_annual_acc}

Annual accounts statement of the Federal District (`53`) for 2018:

```{r}
siconfir::get_annual_acc(year = 2018, cod = 53)
```

### msc_budget(){#msc_budget}

Budget accounts, Accounting Balances Matrix:

```{r}
siconfir::msc_budget(year = 2020, month = 1, cod = 1, matrix_type = "MSCC", class = 5, value = "period_change")
```

### msc_control(){#msc_control}

Control accounts, Accounting Balances Matrix:

```{r}
siconfir::msc_control(year = 2020, month = 6, cod = 17, matrix_type = "MSCC", class = 7, value = "ending_balance")
```

### msc_equity(){#msc_equity}

Equity accounts, Accounting Balances Matrix:

```{r}
siconfir::msc_equity(year = 2020, month = 12, cod = 1, matrix_type = "MSCE", class = 1, value = "beginning_balance") # cod = 1 is id of Brazil
```

### report_status(){#report_status}

Information on approved and corrected reports as well as matrices delivered to SICONFI:

```{r}
siconfir::report_status(year = 2020, cod = 43)
```

### get_annex(){#get_annex}

Attachments of reports by Sphere of Government:

```{r}
siconfir::get_annex()
```

### get_info(){#get_info}

Acess basic information of the federation entities:

```{r}
siconfir::get_info()
```

### find_cod(){#find_cod}

Find state or municipality information:

```{r}
siconfir::find_cod("distrito federal")
```

### br_cods{#br_cods}

Basic information of Brazilian municipalities and states. `br_cods` provides results similar to `get_info()`, but with some corrections, see [`utils/build_datasets.R`](utils/build_datasets.R)

```{r}
siconfir::br_cods
```

## Contributing

Bugs or suggestions: open an [issue](https://github.com/pedrocastroo/siconfir/issues) detailing the problem/suggestion, be as reproducible as possible.

## License

This project is released under the MIT License.